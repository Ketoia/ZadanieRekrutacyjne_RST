# Zadanie rekrutacyjne, Migracja hosta

Praktycznie cała funkcjonalność znajduje się w skrypcie HostMigrationManager.cs. Polega on na najpierw zapisywaniu lokalnego połączenia (w tym przypadku ip, nazwa, oraz port), potem przesłaniu go hostowi, a następnie rozesłaniu reszcie graczy.
Większość czasu spędziłem na sprawdzaniu co działa, grzebaniu w już istniejących systemach, i modyfikowaniu ich tak żeby wszystko nie wybuchło i gracze mogli się ponownie połączyć. Niestety jedyną nie inwazyjną metodą (tak żeby nie zmieniać prawie całego kodu, albo nie napisać całkowicie od nowa "ConnectionManager.cs", bo to byłoby już szybsze i prostrze) było włączenie od nowa głównej sceny, a potem przejście do sceny wyboru postaci (tam się łączą gracze).

# Największe problemy jakie spotkałem
- Network manager został przerobiony pod potrzeby tego projektu. A architektura tego projektu nie została zaplanowana pod migrację hosta. To stworzyło sytuację w której żeby stworzyć obiekt gracza musimy przejść do State'u w ConnectionManager'ze "StartingHostState", który z kolei wywołuje wczytanie character sceny. W czystym NGO, przy samym zahostowaniu już jest tworzony ten obiekt.
- Na czystym projekcie zerwanie połączenia testowałem w prosty sposób, wyłączając grę w jednej z otwartych aplikacji. To powodowało że po próbie ponownego połączenia gra całkowicie się wysypywała (usuwała wszystkie NetworkObjecty, wraz z potrzebnymi managerami). Na debugowaniu tego spędziłem z dobre 4h, sprawdzałem czy to było spowodowane zmianami w network managerze, czy można jakaś inna całkowicie losowa rzecz. Okazało się że to sam skrypt do ponownego połączenia nie działał. Wyłączenie go naprawiło wszystkie moje tymczasowe problemy (co też stworzyło nowe, jak brak możliwości ponownego połączenia, co na ten moment zostawiłem).
- Miałem problem z poprawnym wysyłaniem i zapisaniem mojej klasy "PlayerConnectionDataIp" z użyciem jej klasy bazowej. Najmniejszy problem, na 99% byłby do poprawy w względnie krótkim czasie, ale na chwilę pisania i testowania tego miałem inne problemy. 

# Wnioski
Większość czasu spędziłem nad szukaniem przyczyny błędów, oraz ominianiu ich. W wyznaczonym przeze mnie czasie nie udało mi się zrobić płynnej migracji hosta (omijającej wyjście z gampley'owej sceny) oraz stworzenia systemu który jest bardziej przystępny pod różne sposoby łączenia się, oraz jest przystosowany pod losowe przypadki (np. wyrzucenie kilku graczy na raz).
